# Обход блокировки Discord | Или как вернуть Дискорд

8 октября 2024 года, Discord был официально заблокирован РКН, о чем сообщил ТАСС. Однако, как всегда, есть возможность использовать сетевые обходы, и в этом руководстве мы расскажем о некоторых методах, которые уже доступны.

## Примечание

При появлении новых методов обхода блокировок, мы обновляем пост в нашем [Telegram канале](https://t.me/OZ_ITPQ).

## Способ 1: Zapret для обхода блокировки Discord и YouTube

Zapret — это инструмент, который помогает обходить блокировки интернет-ресурсов, включая Discord и YouTube.

### Windows
> [!IMPORTANT]  
> Если всё еще не скачан, то скачайте последний [релиз](https://github.com/Flowseal/zapret-discord-youtube/releases), разархивируйте в отдельную папку.

Запустите **от имени администратора** то, что вам нужно:
- **`discord.bat`** - запустить обход дискорда.
- **`discord_youtube.bat`** - запустить обход дискорда и ютуба.
###
- **`service_discord.bat`** - запустить обход дискорда и поставить на автозапуск (в сервисах).
- **`service_discord_youtube.bat`** - запустить обход дискорда и ютуба и поставить на автозапуск (в сервисах).
###
- **`service_goodbye_discord.bat`** - запустить, если вы используете **СЕРВИС goodbyedpi**, и хотите, чтобы zapret обходил **только discord**.
  * **ВНИМАНИЕ**: Запускать ПОСЛЕ создания сервиса goodbyedpi. Первый раз goodbyedpi может вылететь - просто перезапустите устройство!
###
- **`service_remove.bat`** - остановить и удалить сервисы выше

### Решение проблем
- Проверьте, запускаете ли вы файлы от имени администратора.
- Не работают bat файлы? Попробуйте выполнить очистку от драйвера WinDivert, как написано **[ЗДЕСЬ](#остановка-и-удаление-обхода)**
- Не работает сервис? Проверьте, чтобы в пути до файла **не было пробелов** и русских символов.
  * Также отключите программы, которые могут мешать созданию сервиса *(Антивирусы, клинеры с доп. защитой)*.
- Не работает вместе с VPN? Отключите функцию **TUN** (Tunneling) в настройках VPN.
- Не работает `service_goodbye_discord`? Удостовертесь, что сервис goodbyedpi запущен и имеет название GoodbyeDPI. После снова запустите `service_goodbye_discord.bat` и перезапустите устройство.
- Не прогружается видео на ютубе? Попробуйте поставить **`Kyber`** и **`QUIC`** в default (`chrome://flags/`).
  * Также в файле, который открываете, в строчке с `--filter-tcp=443`: попробуйте поменять `--dpi-desync-fooling=md5sig` на `--dpi-desync-fooling=badseq`.
  * https://github.com/Flowseal/zapret-discord-youtube/issues/46
- Попробуйте обновить бинарники с оригинального репозитория.
- Не работает **YouTube**? Попробуйте найти ответ здесь - https://github.com/Flowseal/zapret-discord-youtube/issues/90
- Не работает **Discord**? Попробуйте найти ответ здесь - https://github.com/Flowseal/zapret-discord-youtube/issues/92

### Остановка и удаление обхода
Для удаления оставшегося драйвера WinDivert, откройте cmd от имени администратора и пропишите следующее:
```
sc stop WinDivert
sc delete WinDivert
```
> [!NOTE]  
> Возможно, драйвер у вас будет записан по-другому. Для уточнения названия пропишите `driverquery | find "Divert"` в cmd.

### Добавление дополнительных адресов заблокированных сайтов 
- Список можно дополнить используя `list-general.txt` (для `*discord_youtube`) и в список `list-discord` (для файлов без `youtube` в названии).
> [!IMPORTANT]  
> После добавления сервис нужно перезапустить.

## Linux
В оригинальном репозитории [zapret](https://github.com/bol-van/zapret/) имеется достаточно информации для того, чтобы начать пользоваться обходом блокировок, но и стоит понимать, что нажатием одной кнопки ничего не заработает. \
Достаточно следовать следующим инструкциям и всё внимательно читать:
- [zapret/docs/quick_start.txt](https://github.com/bol-van/zapret/blob/master/docs/quick_start.txt)
- [zapret/docs/readme.txt](https://github.com/bol-van/zapret/blob/master/docs/readme.txt)
  * https://github.com/Flowseal/zapret-discord-youtube/issues/7
> [!WARNING]
> Если вы открываете Issue *(в этом репозитории)* с проблемой в использовании на **Linux**, то, как бы это не звучало, это ошибка. Все вопросы по работе на Linux нужно открывать в **[ОРИГИНАЛЬНОМ](https://github.com/bol-van/zapret/)** репозитории. 

## Способ 2: Использование GoodbyeDPI v0.2.3rc3

GoodbyeDPI ранее помогал обходить блокировку YouTube, а теперь может помочь и с доступом к Discord. Некоторые пользователи сообщают о проблемах с UDP-соединениями, поэтому ожидаются обновления от разработчика. Чтобы не пропустить новые способы, а также получать доступ к полезным инструментам и искусственному интеллекту, присоединяйтесь к нашему [Telegram каналу](https://t.me/OZ_ITPQ).

### Инструкции для обхода блокировки:
1. **Скачайте GoodbyeDPI**.
2. **Откройте файл `russia-blacklist.txt`**.
3. **Добавьте в список доменов ресурсы** (список доступен в нашем Telegram канале).
4. **Запустите файл `1_russia_blacklist.cmd`**.
5. **Перезагрузите ПК** для применения изменений.

## Способ 3: Использование WARP для обхода блокировки

Этот способ предполагает использование туннелирования через WARP для обхода блокировки Discord. Перед началом убедитесь, что вы выключили VPN, GoodbyeDPI и любые другие ускоряющие сервисы, так как они могут конфликтовать с данным решением.

### Шаги:

1. **Выключите VPN и GoodbyeDPI:**
   - Перед выполнением следующих шагов убедитесь, что все сторонние сервисы ускорения отключены.

2. **Перейдите в консоль Google:**
   - Откройте [Google Cloud Console](https://console.cloud.google.com/) или любую консоль, где вы сможете выполнить команды.

3. **Выполните команду в консоли:**
   - Вставьте следующую команду в консоль:
     ```bash
     curl -sSL https://raw.githubusercontent.com/ImMALWARE/bash-warp-generator/main/warp_generator.sh | bash
     ```

4. **Получите файл `WARP.conf`:**
   - После выполнения команды в консоли появится ссылка. Перейдите по этой ссылке и скачайте файл `WARP.conf`.

5. **Если что-то не работает или система запрашивает `private_key`:**
   - Если при выполнении команды или при добавлении туннеля система запрашивает `private_key`, выполните следующие шаги для создания конфигурационного файла вручную:
     - Перейдите по [этой ссылке](https://colab.research.google.com/drive/1rmeqQvUlSJfgGK1NYpBMOwQdwi_Xk924?usp=sharing).
     - Запустите второй файл в Colab.
     - Сгенерируйте файл `WARP.conf`.
     - Скопируйте текст, выведенный в консоли, и вставьте его в файл `WARP.conf`.
     - Сохраните файл.

     Для наглядного объяснения процесса можно ознакомиться с [видеоруководством](https://www.youtube.com/watch?v=SEkjrvmionE).

6. **Скачайте и установите программу для туннелирования:**
   - Скачайте программу для туннелирования по [этой ссылке](https://developers.cloudflare.com/warp-client/).
   - Установите её на свой ПК.

7. **Добавьте туннель:**
   - Откройте установленную программу, нажмите «Добавить туннель», и выберите файл `WARP.conf`, который вы скачали или сгенерировали ранее.

8. **Подключитесь к туннелю:**
   - Нажмите кнопку «Подключить» в программе и проследите, чтобы трафик начал идти через туннель.

## Способ 4: Использование VPN

Если два вышеприведенных способа вам не подходят, можно воспользоваться VPN-сервисами. Бесплатные и платные VPN можно найти в сети.
